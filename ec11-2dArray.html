<!doctype html>

<html>
	
	<body>
	
		<p id="demo"></p>
			
		<script>
		
			url = 'https://api.svsu.edu/courses?prefix=CS&course';
			
						
			function getTermsAndInstructors(obj) {
				// returns a string containing all terms and first instructors from a JSON object
				str = "";
				if(obj.courses.length == 0) return str;
				for (var i = 0; i < obj.courses.length; i++) {
					str = str + obj.courses[i].prefix + "-" + obj.courses[i].courseNumber + " " + obj.courses[i].term + " " + obj.courses[i].instructors[0].username + "<br />"
				}
				
				return str;
			}
				
					function loadXMLDoc() {
					var xmlhttp;
					if (window.XMLHttpRequest) {
						xmlhttp = new XMLHttpRequest();
					} else {
				
					// code for older browsers
					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
					}
					xmlhttp.onreadystatechange = function() {
						if (this.readyState == 4 && this.status == 200) {
							var s1 = this.responseText;
							var o1 = JSON.parse(s1);
							var s2 = getTermsAndInstructors(o1);
					
						document.getElementById("demo").innerHTML = s2;
						};
					};
			 
					xmlhttp.open("GET", url, true);
					xmlhttp.send();
					}
				
					loadXMLDoc();
				}
		</script>
		
	</body>
</html>


